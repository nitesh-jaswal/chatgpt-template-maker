<!DOCTYPE html>
<html>
  <head>
    <title>Chat with GPT-4</title>
    <style>
      body {
        font-family: Arial, sans-serif;
      }
      h1 {
        font-size: 2em;
        margin-bottom: 0.5em;
      }
      form {
        display: flex;
        flex-direction: row;
        margin-bottom: 1em;
      }
      input[type="text"] {
        flex-grow: 1;
        padding: 0.5em;
        font-size: 1.2em;
        border-radius: 4px;
        border: none;
        box-shadow: 0 0 4px rgba(0, 0, 0, 0.2);
      }
      input[type="submit"] {
        margin-left: 0.5em;
        padding: 0.5em;
        font-size: 1.2em;
        border-radius: 4px;
        border: none;
        box-shadow: 0 0 4px rgba(0, 0, 0, 0.2);
        background-color: #007bff;
        color: white;
        cursor: pointer;
      }
      #chat-log {
        padding: 1em;
        background-color: #f2f2f2;
        border-radius: 4px;
        min-height: 200px;
        font-size: 1.2em;
        overflow-y: scroll;
      }
      .bot-message {
        margin-bottom: 1em;
      }
    </style>
  </head>
  <body>
    <h1>Chat with GPT-4</h1>
    <form id="chat-form">
      <input type="text" id="user-input" name="content" placeholder="Type your message here...">
      <button type="submit">Send</button>
    </form>
    <div id="chat-log"></div>
    <script>
      const form = document.getElementById('chat-form');
      const userInput = document.getElementById('user-input');
      const chatLog = document.getElementById('chat-log');

      form.addEventListener('submit', (event) => {
        event.preventDefault();
        const content = userInput.value.trim();
        if (content !== '') {
          const xhr = new XMLHttpRequest();
          xhr.onreadystatechange = () => {
            if (xhr.readyState === 4 && xhr.status === 200) {
              const response = JSON.parse(xhr.responseText).response;
              chatLog.innerHTML += '<p class="bot-message">' + 'Bot: '+ response + '</p>';
              chatLog.scrollTop = chatLog.scrollHeight;
              userInput.value = '';
            }
          };
          xhr.open('POST', '/chat', true);
          xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
          xhr.send('content=' + content);
          chatLog.innerHTML += '<p>' + 'You: ' + content + '</p>';
          chatLog.scrollTop = chatLog.scrollHeight;
          userInput.value = '';
        }
      });
    </script>
  </body>
</html>
